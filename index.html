<!DOCTYPE html>
<html>
  <head>
    <title>JavaScript Hand-Written Templates</title>
    <script src="index.js" type="text/javascript" charset="utf-8"></script>
  </head>
  <body>
    <article>
      <header><h2>The Results are In!</h2></header>
      <p>
        After careful consideration and a generous grant from NASA, our team has determined that a woodchuck could chuck five wood, with a standard deviation of +/- .37 wood.
      </p>
      <footer>posted by Chuck Wooden</footer>
        <form id="newComment" onSubmit="addComment()">
          Add comment: <input type="text" id="commentText"><br/>
          Your name: <input type="text" id="commenterName"></br/>
          <input type="submit">
        </form>
      <div id="comments">
      </div>
    </article>

    <script>
      function addComment() {
        event.preventDefault();
        let bodyText = document.getElementById('commentText').value;
        let commenter = document.getElementById('commenterName').value;
        const commentBody = createCommentBody(bodyText);
        const commenterLabel = createCommenterLabel(commenter);
        postNewComment(commentBody, commenterLabel);

      }

      function createCommentBody(comment) {

        const bodyDiv = document.createElement('div');
        const bodyPara = document.createElement('p');
        bodyPara.innerHTML = comment;
        bodyDiv.appendChild(bodyPara);
        return bodyDiv;

      }

      function createCommenterLabel(commenter) {

        const commenterDiv = document.createElement('div');
        const commenterLabel = document.createElement('p');
        commenterLabel.innerHTML = commenter;
        commenterDiv.appendChild(commenterLabel);
        return commenterLabel;

      }

      function postNewComment(body, commenter) {

        const commentsDiv = document.getElementById('comments');
        const newCommentsDiv = document.createElement('div');
        newCommentDiv.appendChild(body);
        newCommentDiv.appendChild(commenter);
        commentsDiv.appendChild(newCommentDiv);

      }
    </script>
  </body>
</html>
